### Пример 1

### Было

```java
//Класс UI
public class MainActivity extends AppCompatActivity {

    //элементы view
    private DrawerLayout mainDrawerLayout;
    private ActionBarDrawerToggle mDrawerToggle;

    //классы получения данных из базы данных
    private DatabaseReference categoriesFromDbReference;
    private DatabaseReference subCategoriesFromDbReference;
    private DatabaseReference categoriesIconsFromDbReference;

    //классы UI
    private HomeFragment homeFragment;
    private CategoriesFragment categoriesFragment;

    //класс данных
    private final CategoriesKeeper categoriesKeeper = CategoriesKeeper.getInstance();

    //метод получения данных из базы и обновления UI
    private void setCategoriesListener() {
        categoriesFromDbReference.addValueEventListener(new ValueEventListener() {
            @Override
            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {
                List<Category> categories = new ArrayList<>();
                for (DataSnapshot category : dataSnapshot.getChildren()) {
                    List<Product> productList = new ArrayList<>();
                    for (DataSnapshot product : category.getChildren()) {
                        Object obj = product.getValue();
                        productList.add(product.getValue(Product.class));
                    }
                    categories.add(new Category(Objects.requireNonNull(category.getKey()), productList));
                }
                categoriesKeeper.setCategories(categories);
                homeFragment.update();
                categoriesFragment.update();
            }

            @Override
            public void onCancelled(@NonNull DatabaseError error) {
                System.out.println(error.getMessage());
                System.out.println(error.getDetails());
            }
        });
    }
}
```

### Стало

```java

```
