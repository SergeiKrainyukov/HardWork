### Пример 3

#### Было

```java

public class VehiclesCRUDService {

    public VehicleEntity update(VehicleEntity vehicleEntity, Long id) {
        VehicleEntity vehicle = vehiclesRepository.findById(id).orElse(null);
        if (vehicle != null) return vehiclesRepository.save(vehicleEntity);
        else return null;
    }
}
```

#### Стало

```java
abstract class SaveVehicleResult {
    
    private SaveVehicleResult() {
        
    }

    public static class SuccessfullySavedVehicle extends SaveVehicleResult {
        private VehicleEntity vehicle;

        public SuccessfullySavedVehicle(VehicleEntity vehicle) {
            this.vehicle = vehicle;
        }

        public VehicleEntity getVehicle() {
            return vehicle;
        }
    }

    public static class ErrorSavingVehicle extends SaveVehicleResult {
        private String error;

        public ErrorSavingVehicle(String error) {
            this.error = error;
        }

        public String getErrorDescription() {
            return error;
        }
    }
}

public class VehiclesCRUDService {

    @Override
    public SaveVehicleResult update(VehicleEntity vehicleEntity, Long id) {
        VehicleEntity vehicle = vehiclesRepository.findById(id).orElse(null);
        if (vehicle != null) return new SaveVehicleResult.SuccessfullySavedVehicle(vehiclesRepository.save(vehicleEntity));
        return new SaveVehicleResult.ErrorSavingVehicle(ERR_NOT_FOUND_WITH_ID);
    }
}
```