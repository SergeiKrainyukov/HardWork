### Пример 1

#### Было

```kotlin
class PickerInputView @JvmOverloads constructor(
    context: Context,
    question: QuestionVO,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0,
) : BaseInputView(context, question, attrs, defStyleAttr), InputView {
    
    fun setInitial(block: () -> Pair<Boolean, Boolean>) {
        val result = block()
        radioGroup.findViewById<RadioButton>(R.id.radioNo).isChecked = result.first
        radioGroup.findViewById<RadioButton>(R.id.radioYes).isChecked = result.second
    }

    fun onCheckedChanged(
        block: (RadioGroup, Int) -> Unit,
    ) {
        radioGroup.setOnCheckedChangeListener(block)
    }
}

class Fragment {
    fun drawPicker(question: Question) {
        PickerInputView(
            context = requireContext(),
            question = question
        ).apply
        {
            val answerYes = getString(R.string.yes)
            val answerNo = getString(R.string.no)
            
            setInitial {
                if (question.defaultValue.isNullOrBlank()) {
                    viewModel.saveAnswer(question.id, answerYes)
                    false to true
                } else (question.defaultValue == answerYes) to (question.defaultValue == answerNo)
            }

            onCheckedChanged { _, checkedId ->
                viewModel.saveAnswer(
                    question.id,
                    if (checkedId == R.id.radioYes) DEFAULT_ANSWER_YES else DEFAULT_ANSWER_NO,
                )
            }
        }
    }
}
```

#### Стало

```kotlin
class Fragment {
    fun drawPicker(question: Question) {
        PickerInputView(
            context = requireContext(),
            question = question
        ).apply {
            onCheckedChanged(viewModel::saveAnswer)
        }
    }
}



class QuestionnaireInteractor {
    fun getGroups(requestUid: UUID, questionnaireId: Long): Flow<List<Group>> {
        //...
        val defaultValue = if (answerCode == AnswerCode.BOOLEAN && question.defaultValue.isBlank()) {
            saveAnswer(requestUid, question.id, DEFAULT_ANSWER_YES)
            DEFAULT_ANSWER_YES
        } else question.defaultValue
        //...
    }
}

class PickerInputView @JvmOverloads constructor(
    context: Context,
    question: QuestionVO,
    attrs: AttributeSet? = null,
    defStyleAttr: Int = 0,
) : BaseInputView(context, question, attrs, defStyleAttr), InputView {

    fun setInitial(block: () -> Pair<Boolean, Boolean>) {
        val result = block()
        radioGroup.findViewById<RadioButton>(R.id.radioNo).isChecked = result.first
        radioGroup.findViewById<RadioButton>(R.id.radioYes).isChecked = result.second
    }

    fun onCheckedChanged(
        saveAnswer: (questionId: Long, answer: String) -> Unit
    ) {
        radioGroup.setOnCheckedChangeListener { radioGroup, checkedId ->
            saveAnswer(question.id, radioGroup.findViewById<RadioButton>(checkedId).text.toString())
        }
    }
}
```