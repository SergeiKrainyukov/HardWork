```java
public class GroupsViewImpl implements GroupsView {
    private Activity hubActivity;
    private RecyclerView groupsRecyclerView;
    private ProgressBar progressBar;
    private final GroupListAdapter groupListAdapter;
    private final ApproveTaskUseCase approvementController;
    private TaskExpandedView taskExpandedView;
    private FiltersCurtain filtersCurtain;

    @Inject
    public GroupsViewImpl(GroupListAdapter groupListAdapter, ApproveTaskUseCase approvementController) {
        this.groupListAdapter = groupListAdapter;
        this.approvementController = approvementController;
    }

    @Override
    public void setView(FiltersCurtain curtain, RecyclerView groupsRecyclerView, ProgressBar progressBar, View hub, Activity hubActivity) {
        this.groupsRecyclerView = groupsRecyclerView;
        prepareRecyclerView();
        this.filtersCurtain = curtain;
        this.progressBar = progressBar;
        this.hubActivity = hubActivity;
    }

    private void prepareRecyclerView() {
        groupsRecyclerView.setLayoutManager(new LinearLayoutManager(groupsRecyclerView.getContext()));
        groupsRecyclerView.setHasFixedSize(false);
        groupsRecyclerView.setAdapter(groupListAdapter);
    }

    public RecyclerView.Adapter getGroupListAdapter() {
        return groupsRecyclerView.getAdapter();
    }

    @Override
    public void showGroups(List<Comment> comments) {
        groupListAdapter.setAllComments(comments);
        groupListAdapter.notifyDataSetChanged();
        groupsRecyclerView.setVisibility(View.VISIBLE);
        progressBar.setVisibility(View.GONE);
        if (comments.size() == 0) {
            hubActivity.findViewById(R.id.task_expanded_view).setVisibility(View.GONE);
            PrimaryFiltersAdapter primaryFiltersAdapter = (PrimaryFiltersAdapter) ((RecyclerView) hubActivity.findViewById(R.id.primary_filters_recycler_view)).getAdapter();
            primaryFiltersAdapter.setIsExpandedOpened(false);
            primaryFiltersAdapter.notifyDataSetChanged();
        }

    }

    @Override
    public void showLoading() {
        groupsRecyclerView.setVisibility(View.INVISIBLE);
        progressBar.setVisibility(View.VISIBLE);
    }

    @Override
    public void showWarning(boolean needToShow) {
        if (needToShow) {
            hubActivity.findViewById(R.id.filters_empty).setVisibility(View.VISIBLE);
            ((TextView) hubActivity.findViewById(R.id.warning_filters)).setText(FiltersKeeper.getInstance().getMustBeSelectedTag());
            hubActivity.findViewById(R.id.warning_filters).setVisibility(View.VISIBLE);
        } else {
            hubActivity.findViewById(R.id.filters_empty).setVisibility(View.GONE);
            hubActivity.findViewById(R.id.warning_filters).setVisibility(View.GONE);
        }
    }

    @Override
    public void setTaskExpandedView(TaskExpandedView view, OpenIncidentCreationBehavior openIncidentCreationBehavior, SecondaryFiltersVisibility secondaryFiltersVisibility) {
        this.taskExpandedView = view;
        List<Object> actions = new ArrayList<>();

        ApproveTask approveTask = new ApproveTask(
                this::showTaskResultAndUpdateView,
                approvementController,
                taskExpandedView
        );

        HandleIncidentTask handleIncidentTask = new HandleIncidentTask(
                this::showTaskResultAndUpdateView,
                this::openCreateIncidentActivity
        );

        actions.add((CommentActions.OpenComment) comment1 -> {
                    ViewUpdateData viewdata = new ViewUpdateData();
                    view.update(viewdata);
                }
        );
        actions.add((CommentActions.ApproveTask) (taskId) -> new ApproveTask(GroupsViewImpl.this::showTaskResultAndUpdateView, approvementController, taskExpandedView).execute(taskId));
        actions.add((CommentActions.ApproveAllTask) data -> new ApproveAllTask(approvementController, groupListAdapter).execute(data));
        actions.add((CommentActions.HandleIncident) (comment) -> new HandleIncidentTask(GroupsViewImpl.this::showTaskResultAndUpdateView, () -> openCreateIncidentActivity(comment)).execute(comment));
        actions.add((CommentActions.OnClickTask) (commentListAdapter, comment, pos, commentClickedId, itemView) -> new OnClickTask(pos, filtersCurtain, hubActivity, commentListAdapter, groupListAdapter).execute());
        groupListAdapter.setActions(actions);
    }

    public class ViewUpdateData {
        public ViewUpdateData(Comment comment, OpenIncidentCreationBehavior openIncidentCreationBehavior, GroupListAdapter groupListAdapter, ApproveTask approveTask, CommentActions.HandleIncident handleIncident) {

        }
    }

    private void openCreateIncidentActivity(Comment comment) {
        new OpenIncidentCreationBehaviorImpl(hubActivity).openNew(comment);
    }

    private void showTaskResultAndUpdateView(String text) {
        Snackbar.make(hubActivity.findViewById(R.id.HubCoordinatorLayout), text, Snackbar.LENGTH_SHORT).show();
        groupListAdapter.notifyDataSetChanged();
    }

    static class OnClickTask extends AsyncTask<Void, Void, Void> {

        private Activity hub;
        private final int pos;
        private final CommentListAdapter commentListAdapter;
        private final GroupListAdapter groupListAdapter;
        private final FiltersCurtain filtersCurtain;

        OnClickTask(int pos, FiltersCurtain filtersCurtain, Activity hub, CommentListAdapter commentListAdapter, GroupListAdapter groupListAdapter) {
            this.pos = pos;
            this.filtersCurtain = filtersCurtain;
            this.hub = hub;
            this.commentListAdapter = commentListAdapter;
            this.groupListAdapter = groupListAdapter;
        }

        @Override
        protected Void doInBackground(Void... voids) {
            return null;
        }

        @Override
        protected void onPostExecute(Void aVoid) {
            filtersCurtain.setOpened(false);
            new SecondaryFiltersVisibilityImpl(hub).setVisibility(View.GONE);
            PrimaryFiltersAdapter primaryFiltersAdapter = (PrimaryFiltersAdapter) ((RecyclerView) hub.findViewById(R.id.primary_filters_recycler_view)).getAdapter();
            Objects.requireNonNull(primaryFiltersAdapter).setIsExpandedOpened(true);
            primaryFiltersAdapter.notifyDataSetChanged();
            groupListAdapter.setTaskOpened(true);
            groupListAdapter.setSelectedCommentInGroup(new Pair<>(commentListAdapter.getGroupName(),pos));
            commentListAdapter.setTaskOpened(true);
            commentListAdapter.notifyDataSetChanged();
            groupListAdapter.notifyDataSetChanged();
        }
    }

    static class ApproveTask extends AsyncTask<ApprovementData, Void, Void> {
        private final ShowResult showResult;
        private final ApproveTaskUseCase approvementController;
        private final TaskExpandedView taskExpandedView;


        ApproveTask(ShowResult showResult, ApproveTaskUseCase approvementController, TaskExpandedView taskExpandedView) {
            this.showResult = showResult;
            this.approvementController = approvementController;
            this.taskExpandedView = taskExpandedView;
        }

        @Override
        protected Void doInBackground(ApprovementData... data) {
            approvementController.approve(data[0]);
            return null;
        }

        @Override
        protected void onPostExecute(Void aVoid) {
            showResult.show("Задача успешно принята");
            if (taskExpandedView != null)
                ((TaskExpandedViewImpl) taskExpandedView).getTaskExpandedView().setVisibility(View.GONE);
        }

    }

    static class ApproveAllTask extends AsyncTask<List<ApprovementData>, Void, Void> {
        private final ApproveTaskUseCase approvementController;
        private final GroupListAdapter adapter;


        ApproveAllTask(ApproveTaskUseCase approvementController, GroupListAdapter adapter) {
            this.approvementController = approvementController;
            this.adapter = adapter;
        }

        @SafeVarargs
        @Override
        protected final Void doInBackground(List<ApprovementData>... data) {
            for (ApprovementData data1 : data[0]) {
                approvementController.approve(data1);
            }
            return null;
        }

        @Override
        protected void onPostExecute(Void aVoid) {
            adapter.notifyDataSetChanged();
        }

    }

    static class HandleIncidentTask extends AsyncTask<Comment, Void, Void> {
        private final ShowResult showResult;
        private final OpenIncidentCreation openIncidentCreation;

        private boolean needToOpenIncident;

        HandleIncidentTask(ShowResult showResult, OpenIncidentCreation openIncidentCreation) {
            this.showResult = showResult;
            this.openIncidentCreation = openIncidentCreation;
        }

        @Override
        protected Void doInBackground(Comment... input) {
            if (input[0].getTask() instanceof IncidentTask) {
                needToOpenIncident = ((IncidentTask) input[0].getTask()).isDeleted();
            } else
                needToOpenIncident = !input[0].getStatus().getId().equals(StatusesConfig.rejectedId);

            if (needToOpenIncident) {
                input[0].setTask(new IncidentTask(input[0].getTask(), null, null, false));
            } else {
                CreateIncidentTransaction transaction = new CrudIncidentTransactionImpl();
                IncidentTask incidentTask = new IncidentTask(input[0].getTask(), input[0].getText(), new File(input[0].getAttachment()), true);
                transaction.create(incidentTask, input[0].getAttachment(), input[0].getText(), true, Calendar.getInstance().getTimeInMillis());
                input[0].setTask(incidentTask);
            }
            return null;
        }

        @Override
        protected void onPostExecute(Void aVoid) {
            if (needToOpenIncident)
                openIncidentCreation.open();
            else
                showResult.show("Замечание удалено");
        }
    }

    @FunctionalInterface
    interface ShowResult {
        void show(String text);
    }

    @FunctionalInterface
    interface OpenIncidentCreation {
        void open(Comment comment);
    }
}


```