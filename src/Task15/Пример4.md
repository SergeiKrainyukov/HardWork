### Пример 4

### Было

```java
public class TagControllerImpl implements TagController {
    private final TagTransaction transaction;
    private List<Tag> tags;

    @Inject
    public TagControllerImpl(TagTransaction transaction) {
        this.transaction = transaction;
    }

    @Override
    @Nullable
    public Tag getById(@NonNull String tagId) {
        if(tags == null || tags.isEmpty())
            tags = transaction.getAll();
        return tags.stream().filter(t -> t.getId().equals(tagId)).findFirst().orElse(null);
    }

    public interface TagTransaction {
        List<Tag> getAll();
    }
}
```

### Стало

```java
import java.util.ArrayList;

public class TagControllerImpl implements TagController {
    private final TagTransaction transaction;
    private List<Tag> tags;

    @Inject
    public TagControllerImpl(TagTransaction transaction) {
        this.transaction = transaction;
        this.tags = new ArrayList<>();
    }

    @Override
    @Nullable
    public Tag getById(@NonNull String tagId) {
        return transaction.getAllById(tagId);
    }

    public interface TagTransaction {
        List<Tag> getAll();
        List<Tag> getAllById(String tagId);
    }
}
```

Сделал инициализацию в конструкторе и вынес запрос тегов на уровень бд